{% extends 'job_app/base.html' %}
{% load static %}
{% block content %}

<style>
  .profile-box {
    margin-bottom: 25px;
  }
  .profile-box img {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid #0d6efd;
  }
  .profile-box h5 {
    margin-top: 10px;
    font-weight: bold;
    font-size: 16px;
  }
  .dashboard-sidebar .nav-link {
    color: #333;
    padding: 10px 15px;
    border-radius: 6px;
    margin-bottom: 5px;
    transition: 0.3s;
    text-align: left;
  }
  .dashboard-sidebar .nav-link:hover,
  .dashboard-sidebar .nav-link.active {
    background: #333;
    color: #fff !important;
  }
  @media (max-width: 767.98px) {
    .sidebar-toggle {
      position: fixed;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
      z-index: 1050;
    }
  }
</style>

<div class="container-fluid">
  <div class="row flex-nowrap">
    {% include 'job_app/sidebar.html' %}
    <main class="col px-3 py-4">
       <button class="btn btn-primary sidebar-toggle d-md-none"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#sidebarMenu">
    &gt;
  </button>
      <h3 class="fw-bold mb-4">My Bookings</h3>

      {% if bookings %}
        <div class="table-responsive">
          <table class="table table-striped text-center align-middle">
            <thead class="table-dark">
              <tr>
                <th>Service</th>
                <th>Provider</th>
                <th>Date</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              {% for booking in bookings %}
              <tr>
                <td>{{ booking.service.title }}</td>
                <td>{{ booking.worker.user.username }}</td>
                <td>{{ booking.date }}</td>
                <td><span class="badge bg-success">{{ booking.status }}</span></td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      {% else %}
        <p class="text-muted text-center">You have no bookings yet.</p>
      {% endif %}
    </main>

  </div>
</div>

{% endblock %}
