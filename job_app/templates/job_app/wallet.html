{% extends 'job_app/base.html' %}
{% block content %}
<div class="container mt-5">
  <h3 class="fw-bold">My Wallet</h3>
  <p>Current Balance: <strong>₹{{ profile.wallet_balance }}</strong></p>

  <form method="POST" action="{% url 'job_app:add_money' %}" class="mt-3">
    {% csrf_token %}
    <div class="input-group" style="width:250px;">
      <input type="number" name="amount" class="form-control" placeholder="Enter amount" min="1" required>
      <button type="submit" class="btn btn-success">Add Money</button>
    </div>
  </form>

  <hr>
  <h5>Transaction History</h5>
  <table class="table table-striped mt-3">
    <thead>
      <tr>
        <th>Date</th>
        <th>Type</th>
        <th>Amount</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      {% for t in transactions %}
      <tr>
        <td>{{ t.created_at|date:"d M Y, h:i A" }}</td>
        <td>{{ t.transaction_type|title }}</td>
        <td>₹{{ t.amount }}</td>
        <td>{{ t.description }}</td>
      </tr>
      {% empty %}
      <tr><td colspan="4" class="text-center text-muted">No transactions yet</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
